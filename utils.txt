utillity function for version 2